function copyaddurl(b){0==set.reprint.addurl?addarelt(set.reprint.msg,"succ"):100<b.length?(addarelt(set.reprint.msg,"succ"),window.closeCopyLimit=1,JScopyText(b+"\n \u3010\u6765\u6e90\uff1a"+set.reprint.siteurl+"\uff0c\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u3011")):addarelt(set.reprint.msg,"succ")}function mobile_menuclick(b,c){$(".user-menu .sub-menu").css("visibility","hidden");$(".user-menu .sub-menu").css("opacity","0");"hidden"==$(c).parent().find(".sub-menu").css("visibility")?($(c).parent().find(".sub-menu").css("opacity","1"),$(c).parent().find(".sub-menu").css("visibility","visible")):"hidden"==$(c).parent().parent().find(".user-sub-menu").css("visibility")&&($(c).parent().parent().find(".sub-menu").css("opacity","1"),$(c).parent().parent().find(".sub-menu").css("visibility","visible"));$(".user-menu-main .fa-angle-down").toggleClass("m-dropdown-show-i");b.stopPropagation()}$(document).ready(function(){$("#app").addClass("app-show");$(".html-loading").addClass("html-loading-hide");"rgb(255, 255, 255)"!=$(".cp-pop-window-title\x3ediv").css("background-color")&&$(".cp-pop-close").css("color","#fff");$("#app").scroll(function(){var a=$("#app").scrollTop();$(window).height();$("#app").height();100<a?$(".go-top-plane").addClass("go-top-plane-show"):$(".go-top-plane").removeClass("go-top-plane-show");1!=set.is_single&&1!=set.is_page||"visible"!=$("#post-catalog").css("visibility")||$(".post-content h2[catalog],.post-content h3[catalog]").each(function(){var a=this.getBoundingClientRect().y;256>a&&0<a&&(a=$(this).attr("catalog"),set_catalog_css(),$("p[catalog\x3d"+a+"]").addClass("catalog-hover"))})});jQuery(document).on("copy",function(a){var b=window.getSelection().toString();if(1==window.closeCopyLimit)return window.closeCopyLimit=0,!0;if(1==set.reprint.open){if(1==set.reprint.copylenopen&&b.length>set.reprint.copylen)return addarelt("\u590d\u5236\u5185\u5bb9\u592a\u957f\uff0c\u7981\u6b62\u590d\u5236","erro"),a.preventDefault(),!1;copyaddurl(b)}return!0});$(".menu-mobile .menu-item-has-children").append('\x3cdiv class\x3d"mobile-m-dropdown"\x3e\x3ci class\x3d"fal fa-angle-down"\x3e\x3c/i\x3e\x3c/div\x3e');$(".menu-mobile .menu-item-has-children\x3ea").css("display"," inline-block");$(".menu-mobile .menu-item-has-children").click(function(){$(this).children(".mobile-m-dropdown").children().toggleClass("m-dropdown-show-i");$(this).children(".sub-menu").slideToggle();return!1});$(".menu-mobile a").click(function(){window.location.href=$(this).attr("href");return!1});$(".go-top-plane").click(function(){$("#app").animate({scrollTop:"0px"},500)});$(".drawer-menu-list").click(function(a){$(".user-menu .sub-menu").css("visibility","hidden");$(".user-menu .sub-menu").css("opacity","0");$(".user-menu .sub-menu").removeClass("sub-menu-hide");$(".user-menu .sub-menu").removeClass("sub-menu-show");a.stopPropagation()});$(".tag-cloud-link").each(function(){var a="#67C23A #E6A23C #F56C6C #909399 #CC9966 #FF6666 #99CCFF #FF9999 #CC6633".split(" "),a=a[Math.floor(Math.random()*a.length)];$(this).css("background-color",a)});if(1==set.is_single||1==set.is_page){if(1==set.corepress_post_meta.catalog){var b=0,c="";$(".post-content h2,.post-content h3").each(function(){var a=$(this)[0].tagName.toLowerCase();console.log();"zd-plane-content"!=$(this).parent().attr("class")&&($(this).attr("catalog","catalog-"+a+"-"+b),c=c+'\x3cp catalogtagName\x3d"'+a+'" catalog\x3d"catalog-'+a+"-"+b+'" class\x3d"catalog-item" onclick\x3d"'+("go_catalog('catalog-"+a+"-"+b+"','"+a+"')")+'"\x3e'+$(this).html()+"\x3c/p\x3e",b++)});$("#post-catalog-list").html(c);set_catalog_position();$("#post-catalog").css("visibility","visible");$("#post-catalog").css("opacity","1");0==$(".post-content h2").length&&0==$(".post-content h3").length&&$("#post-catalog").css("visibility","hidden")}1==set.has_corepress_video&&new Plyr(".corepress-video",{i18n:{restart:"\u91cd\u64ad",play:"\u64ad\u653e",pause:"\u6682\u505c",speed:"\u901f\u5ea6",normal:"\u6b63\u5e38",quality:"\u8d28\u91cf"}})}1==set.theme.loadbar&&NProgress.done();1==set.is_home&&new Swiper(".swiper-container",{loop:!0,autoplay:!0,delay:3E3,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});loadlazyimg();if(1==set.is_single||set.is_page)0<$("#comments").length&&(void 0!=navigator.userAgentData&&void 0!=navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then(function(a){"Windows"===navigator.userAgentData.platform&&13<=parseInt(a.platformVersion.split(".")[0])&&(document.getElementById("osversion").value=13)}),$(".corepress-commentinfo").each(function(){$.ua.set($(this).text());var a=$.ua.browser.name,b=$.ua.browser.major,c=$.ua.cpu.architecture,e=$.ua.os.name,h=$.ua.os.version,f=$.ua.device.vendor,g="";"amd64"==c?g=" 64Bit":"ia32"==c&&(g=" 32Bit");if(void 0!=a)var d=void 0!=b?'\x3cspan class\x3d"corepress-commentinfo-browser"\x3e\x3cimg src\x3d"'+getBrowsericon(a)+'"\x3e'+a+" "+b+"\x3c/span\x3e":'\x3cspan class\x3d"corepress-commentinfo-browser"\x3e\x3cimg src\x3d"'+getBrowsericon(a)+'"\x3e'+a+"\x3c/span\x3e";void 0!=e&&(d=d+'\x3cspan class\x3d"corepress-commentinfo-os"\x3e\x3cimg src\x3d"'+getOsicon(e,h)+'"\x3e'+e+" "+h+g+"\x3c/span\x3e");void 0!=f&&(d=d+'\x3cspan class\x3d"corepress-commentinfo-devicename"\x3e\x3cimg src\x3d"'+getPhoneicon(f)+'"\x3e'+f+"\x3c/span\x3e");$.ua.set($(this).html(d))})),$("table").each(function(){$(this)[0].outerHTML='\x3cdiv class\x3d"cp-table"\x3e'+$(this)[0].outerHTML+"\x3c/div\x3e"}),$("table").each(function(){0==$(this).find("thead").length&&($(this).find("tr:first-child td").css("color","var(--Maincolor)"),$(this).find("tr:first-child td").css("border-bottom","2px solid var(--Maincolor)"))});1==set.popwindow&&("1"!=cp_getCookie("cp_popwindow")?load_popwindow():cp_getCookie("cp_popwindow_md5")!=set.popwindowmd5&&load_popwindow())});function createPoster(){var b=0,c;c=500<$(window).width()?480:.8*$(window).width();window.poster_layer_id=layer.open({content:'\x3cdiv id\x3d"poster-layer"\x3e\x3c/div\x3e',title:!1,btn:!1,area:c+"px",offset:"100px",success:function(){b=layer.load(1,{title:"\u751f\u6210\u4e2d\uff0c\u8bf7\u7a0d\u540e",shade:[.5,"#000"]});window.poster_open=0;$("#cp-poster-img").attr("src",set.poster_img)}});void 0!=window.poster_canvas?($("#poster-layer").append(window.poster_canvas),layer.close(b)):setTimeout(function(){html2canvas($("#cp-poster-plane")[0]).then(function(a){window.poster_canvas=a;$("#poster-layer").append(a);layer.close(b)})},100)}function endloadhtml(){}$(window).resize(function(){set_catalog_position()});function close_show(b){1==b?($("#post-catalog").removeClass("post-catalog-hide"),$("#post-catalog-bar").css("visibility","hidden")):($("#post-catalog").addClass("post-catalog-hide"),$("#post-catalog-bar").css("visibility","visible"))}function set_catalog_css(){$("p[catalog]").removeClass("catalog-hover")}function set_catalog_position(){if(1==set.is_page||1==set.is_single)if(1==set.theme.sidebar_position){if(0!=$(".post-info").length&&0!=$(".post-content-body").length){var b=$(".post-info").offset().left;$("#post-catalog").css("left",b-200+"px");b=$(".post-content-body").offset().left;$("#post-catalog-bar").css("left",b-$("#post-catalog-bar").innerWidth()+"px")}}else b=$(".post-info").offset().left,b+=$(".post-info")[0].getBoundingClientRect().width,$("#post-catalog").css("left",b+40+"px"),b=$(".post-content-body").offset().left+$(".post-content-body").innerWidth(),$("#post-catalog-bar").css("left",b+"px"),$("#post-catalog-bar").removeClass("post-catalog-bar-left-minborder"),$("#post-catalog-bar").addClass("post-catalog-bar-right-minborder")}function go_catalog(b,c){var a=$(c+"[catalog\x3d"+b+"]").position().top;$("#app").animate({scrollTop:a},500);window.scrollTo(0,a)}function widget_sentence_load(b,c){$.get(set.ajaxurl,{action:"corepress_get_widget_sentence",type:b},function(a){a=JSON.parse(a);200==a.code?$(c).html("\x3cp\x3e"+a.data+"\x3c/p\x3e"):$(c).html("\x3cp\x3e\u53e5\u5b50\u52a0\u8f7d\u5931\u8d25\x3c/p\x3e")})};